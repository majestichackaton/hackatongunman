function Hammer(a,b,c){function x(a){return a.touches?a.touches.length:1}function y(a){a=a||window.event;if(!w){var b=document,c=b.body;return[{x:a.pageX||a.clientX+(b&&b.scrollLeft||c&&c.scrollLeft||0)-(b&&b.clientLeft||c&&b.clientLeft||0),y:a.pageY||a.clientY+(b&&b.scrollTop||c&&c.scrollTop||0)-(b&&b.clientTop||c&&b.clientTop||0)}]}else{var d=[],e;for(var f=0,g=a.touches.length;f<g;f++){e=a.touches[f];d.push({x:e.pageX,y:e.pageY})}return d}}function z(a,b){return Math.atan2(b.y-a.y,b.x-a.x)*180/Math.PI}function A(a,b){if(a.length==2&&b.length==2){var c,d;c=a[0].x-a[1].x;d=a[0].y-a[1].y;var e=Math.sqrt(c*c+d*d);c=b[0].x-b[1].x;d=b[0].y-b[1].y;var f=Math.sqrt(c*c+d*d);return f/e}return 0}function B(a,b){if(a.length==2&&b.length==2){var c,d;c=a[0].x-a[1].x;d=a[0].y-a[1].y;var e=Math.atan2(d,c)*180/Math.PI;c=b[0].x-b[1].x;d=b[0].y-b[1].y;var f=Math.atan2(d,c)*180/Math.PI;return f-e}return 0}function C(a,b){b.touches=y(b.originalEvent);b.type=a;if(J(d["on"+a])){d["on"+a].call(d,b)}}function D(a){a=a||window.event;if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}}function E(){i={};k=false;j=0;f=0;g=0;l=null}function G(c){switch(c.type){case"mousedown":case"touchstart":i.start=y(c);n=(new Date).getTime();j=x(c);k=true;t=c;var d=a.getBoundingClientRect();var e=a.clientTop||document.body.clientTop||0;var o=a.clientLeft||document.body.clientLeft||0;var p=window.pageYOffset||a.scrollTop||document.body.scrollTop;var q=window.pageXOffset||a.scrollLeft||document.body.scrollLeft;r={top:d.top+p-e,left:d.left+q-o};s=true;F.hold(c);if(b.prevent_default){D(c)}break;case"mousemove":case"touchmove":if(!s){return false}u=c;i.move=y(c);if(!F.transform(c)){F.drag(c)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!s||l!="transform"&&c.touches&&c.touches.length>0){return false}s=false;v=c;var w=l=="drag";F.swipe(c);if(w){C("dragend",{originalEvent:c,direction:h,distance:f,angle:g})}else if(l=="transform"){C("transformend",{originalEvent:c,position:i.center,scale:A(i.start,i.move),rotation:B(i.start,i.move)})}else{F.tap(t)}m=l;C("release",{originalEvent:c,gesture:l});E();break}}function H(a,b){if(!b&&window.event&&window.event.toElement){b=window.event.toElement}if(a===b){return true}if(b){var c=b.parentNode;while(c!==null){if(c===a){return true}c=c.parentNode}}return false}function I(a,b){var c={};if(!b){return a}for(var d in a){if(d in b){c[d]=b[d]}else{c[d]=a[d]}}return c}function J(a){return Object.prototype.toString.call(a)=="[object Function]"}function K(a,b,c){b=b.split(" ");for(var d=0,e=b.length;d<e;d++){if(a.addEventListener){a.addEventListener(b[d],c,false)}else if(document.attachEvent){a.attachEvent("on"+b[d],c)}}}var d=this;var e={prevent_default:false,css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};b=I(e,b);(function(){if(!b.css_hacks){return false}var c=["webkit","moz","ms","o",""];var d={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var e="";for(var f=0;f<c.length;f++){for(var g in d){e=g;if(c[f]){e=c[f]+e.substring(0,1).toUpperCase()+e.substring(1)}a.style[e]=d[g]}}})();var f=0;var g=0;var h=0;var i={};var j=0;var k=false;var l=null;var m=null;var n=null;var o={x:0,y:0};var p=null;var q=null;var r={};var s=false;var t;var u;var v;var w="ontouchstart"in window;this.option=function(a,d){if(d!=c){b[a]=d}return b[a]};this.getDirectionFromAngle=function(a){var b={down:a>=45&&a<135,left:a>=135||a<=-135,up:a<-45&&a>-135,right:a>=-45&&a<=45};var c,d;for(d in b){if(b[d]){c=d;break}}return c};var F={hold:function(a){if(b.hold){l="hold";clearTimeout(q);q=setTimeout(function(){if(l=="hold"){C("hold",{originalEvent:a,position:i.start})}},b.hold_timeout)}},swipe:function(a){if(!i.move){return}var c=i.move[0].x-i.start[0].x;var e=i.move[0].y-i.start[0].y;f=Math.sqrt(c*c+e*e);var j=(new Date).getTime();var k=j-n;if(b.swipe&&b.swipe_time>k&&f>b.swipe_min_distance){g=z(i.start[0],i.move[0]);h=d.getDirectionFromAngle(g);l="swipe";var m={x:i.move[0].x-r.left,y:i.move[0].y-r.top};var o={originalEvent:a,position:m,direction:h,distance:f,distanceX:c,distanceY:e,angle:g};C("swipe",o)}},drag:function(a){var c=i.move[0].x-i.start[0].x;var e=i.move[0].y-i.start[0].y;f=Math.sqrt(c*c+e*e);if(b.drag&&f>b.drag_min_distance||l=="drag"){g=z(i.start[0],i.move[0]);h=d.getDirectionFromAngle(g);var j=h=="up"||h=="down";if((j&&!b.drag_vertical||!j&&!b.drag_horizontal)&&f>b.drag_min_distance){return}l="drag";var m={x:i.move[0].x-r.left,y:i.move[0].y-r.top};var n={originalEvent:a,position:m,direction:h,distance:f,distanceX:c,distanceY:e,angle:g};if(k){C("dragstart",n);k=false}C("drag",n);D(a)}},transform:function(a){if(b.transform){if(x(a)!=2){return false}var c=B(i.start,i.move);var d=A(i.start,i.move);if(l!="drag"&&(l=="transform"||Math.abs(1-d)>b.scale_treshold||Math.abs(c)>b.rotation_treshold)){l="transform";i.center={x:(i.move[0].x+i.move[1].x)/2-r.left,y:(i.move[0].y+i.move[1].y)/2-r.top};var e={originalEvent:a,position:i.center,scale:d,rotation:c};if(k){C("transformstart",e);k=false}C("transform",e);D(a);return true}}return false},tap:function(a){var c=(new Date).getTime();var d=c-n;if(b.hold&&!(b.hold&&b.hold_timeout>d)){return}var e=function(){if(o&&b.tap_double&&m=="tap"&&n-p<b.tap_max_interval){var a=Math.abs(o[0].x-i.start[0].x);var c=Math.abs(o[0].y-i.start[0].y);return o&&i.start&&Math.max(a,c)<b.tap_double_distance}return false}();if(e){l="double_tap";p=null;C("doubletap",{originalEvent:a,position:i.start});D(a)}else{var g=i.move?Math.abs(i.move[0].x-i.start[0].x):0;var h=i.move?Math.abs(i.move[0].y-i.start[0].y):0;f=Math.max(g,h);if(f<b.tap_max_distance){l="tap";p=c;o=i.start;if(b.tap){C("tap",{originalEvent:a,position:i.start});D(a)}}}}};if(w){K(a,"touchstart touchmove touchend touchcancel",G)}else{K(a,"mouseup mousedown mousemove",G);K(a,"mouseout",function(b){if(!H(a,b.relatedTarget)){G(b)}})}}